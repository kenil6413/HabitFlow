<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>HabitFlow</title>
    <script src="./js/wallpaper-preload.js"></script>
    <link rel="stylesheet" href="css/common.css" />
    <link rel="stylesheet" href="css/dashboard.css" />
  </head>
  <body>
    <div id="appBarMount"></div>

    <div class="page">
      <div class="card">
        <div class="row-between">
          <div>
            <span class="section-label">Activity Heatmap</span>
            <div class="hm-summary" id="hmSummary"></div>
          </div>
          <span id="hmRangeLabel" class="hm-range-label"></span>
        </div>
        <div id="hmWrap" class="hm-wrap"></div>
        <div class="legend">
          <span>Less</span>
          <div class="lswatch lswatch-0"></div>
          <div class="lswatch lswatch-1"></div>
          <div class="lswatch lswatch-2"></div>
          <div class="lswatch lswatch-3"></div>
          <div class="lswatch lswatch-4"></div>
          <span>More</span>
        </div>
      </div>

      <div class="stats-grid">
        <div class="stat-card">
          <div class="stat-icon">ğŸŒ±</div>
          <div class="stat-val" id="statActiveHabits">0</div>
          <div class="stat-lbl">Active Habits</div>
          <div class="stat-sub" id="statActiveSub">0 done today</div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">ğŸ”¥</div>
          <div class="stat-val" id="statBestStreak">0</div>
          <div class="stat-lbl">Best Streak</div>
          <div class="stat-sub" id="statBestSub">No streak yet</div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">âœ¦</div>
          <div class="stat-val" id="statCompletionRate">0%</div>
          <div class="stat-lbl">Completion Rate</div>
          <div class="stat-sub" id="statCompletionSub">Last 30 days</div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">ğŸ“…</div>
          <div class="stat-val" id="statDaysLogged">0</div>
          <div class="stat-lbl">Days Logged</div>
          <div class="stat-sub" id="statDaysSub">This month</div>
        </div>
      </div>

      <div class="card">
        <div class="row-between">
          <span class="section-label">Streak Progress</span>
          <span class="streak-sub-label">Last 30 days</span>
        </div>
        <div id="streakProgressList"></div>
        <div class="week-section">
          <div class="week-caption">THIS WEEK</div>
          <div class="week-row" id="weekRow"></div>
        </div>
      </div>

      <div class="journal-wrap" id="loggingSection">
        <div class="jtape"></div>
        <div class="jtape r"></div>
        <div class="jhead">
          <div>
            <div class="jdate" id="jDate"></div>
            <div class="jsub">Daily Journal</div>
          </div>
          <div class="jhead-actions">
            <button class="jnav" id="jPrev">&#8249;</button>
            <input type="date" id="jDatePicker" class="jdate-picker" />
            <button class="jnav" id="jToday">Today</button>
            <button class="jnav" id="jNext">&#8250;</button>
            <button class="jsave" id="jSave">Save</button>
          </div>
        </div>
        <div class="jbody">
          <div class="jphotos">
            <div class="jplabel">ğŸ“· Memories</div>
            <div
              class="dropzone"
              id="photoDropzone"
              role="button"
              tabindex="0"
              aria-label="Add journal photos"
            >
              <input
                type="file"
                id="photoIn"
                accept="image/*"
                multiple
                class="hidden"
              />
              <span id="dropDef">
                <span class="dicon">ğŸ–¼ï¸</span>
                <span class="dtext">Click to add photos</span>
              </span>
              <div id="pgrid" class="pgrid hidden"></div>
            </div>
          </div>
          <div class="jwriting">
            <div class="jwlabel">âœï¸ Today's thoughts...</div>
            <textarea
              class="jtextarea"
              id="jEntryText"
              placeholder="Dear diary, today I..."
            ></textarea>
          </div>
        </div>
        <div class="jfoot">
          <div class="moodrow">
            <button class="moodbtn">ğŸ˜Š</button>
            <button class="moodbtn">ğŸ˜Œ</button>
            <button class="moodbtn">ğŸ˜´</button>
            <button class="moodbtn">ğŸ˜”</button>
            <button class="moodbtn">ğŸ¤©</button>
          </div>
          <div class="jpnum">âœ¦ today's entry</div>
        </div>
      </div>

      <div class="card">
        <div class="row-between">
          <div>
            <span class="section-label">My Habits</span>
            <div id="habitDateLabel" class="habit-date-label"></div>
          </div>
          <div class="habit-actions">
            <button class="btn btn-primary btn-sm" id="openAddBtn">
              + Add Habit
            </button>
            <button class="edit-toggle" id="editToggle">
              <span class="edot"></span>
              Edit
            </button>
          </div>
        </div>
        <div class="add-form" id="addForm">
          <input
            class="finput"
            id="hNameIn"
            placeholder="Habit name e.g. Read 20 pages"
          />
          <input
            class="finput"
            id="hDescIn"
            placeholder="Why this habit? (optional)"
          />
          <div class="fgrid-two">
            <input class="finput" id="hCueTimeIn" type="time" />
            <input
              class="finput"
              id="hCueLocationIn"
              placeholder="Where will you do it? (e.g. desk)"
            />
          </div>
          <input
            class="finput"
            id="hStackAfterIn"
            placeholder="After what current habit? (e.g. after coffee)"
          />
          <input
            class="finput"
            id="hTinyVersionIn"
            placeholder="2-minute version (e.g. read 1 page)"
          />
          <div class="frow">
            <button class="btn btn-primary btn-sm" id="saveHabit">Save</button>
            <button class="btn btn-ghost btn-sm" id="cancelAdd">Cancel</button>
          </div>
        </div>
        <div class="habits-list" id="habitsList"></div>
      </div>
    </div>

    <script type="module" src="./js/dashboard.js"></script>
  </body>
</html>
